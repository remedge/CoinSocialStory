extends layout.pug

block content
	.container
		p Data updates every 10 minutes.
		.table-responsive
			table.table.table-striped.table-hover
				thead.thead-dark
					tr
						th(scope='col') #
						th(scope='col') 
							a(href='?sortBy=name&order=' + (sortBy === 'name' ? order || 'asc' : 'asc') class='link' + (sortBy === 'name' ? '-active' : '-primary') + ' ' + (sortBy === 'name' ? order || 'asc' : 'asc')) Name&nbsp;&nbsp;
						th(scope='col')
							a(href='?sortBy=market_volume&order=' + (sortBy === 'market_volume' ? order || 'desc' : 'desc' ) class='link' + (sortBy === 'market_volume' ? '-active' : '-primary') + ' ' + (sortBy === 'market_volume' ? order || 'asc' : 'asc')) Market Cap&nbsp;&nbsp;
						th(scope='col' colspan="4") Social Activity&nbsp;&nbsp;
						//- th(scope='col') Development Activity
						//- th(scope='col') Network Activity
					tr
						th(scope='col' colspan="3") 
						th(scope='col') 
							a(href='?sortBy=social&order=' + (sortBy === 'social' ? order || 'desc' : 'desc') class='link' + (sortBy === 'social' ? '-active' : '-primary') + ' ' + (sortBy === 'social' ? order || 'asc' : 'asc')) Index&nbsp;&nbsp;
						th(scope='col') 
							a(href='?sortBy=twitter_followers&order=' + (sortBy === 'twitter_followers' ? order || 'desc' : 'desc') class='link' + (sortBy === 'twitter_followers' ? '-active' : '-primary') + ' ' + (sortBy === 'twitter_followers' ? order || 'asc' : 'asc')) Followers Twitter&nbsp;&nbsp;
						th(scope='col') 
							a(href='?sortBy=twitter_statuses&order=' + (sortBy === 'twitter_statuses' ? order || 'desc' : 'desc') class='link' + (sortBy === 'twitter_statuses' ? '-active' : '-primary') + ' ' + (sortBy === 'twitter_statuses' ? order || 'asc' : 'asc')) Tweets and Replies&nbsp;&nbsp;
						th(scope='col') 
							a(href='?sortBy=reddit_followers&order=' + (sortBy === 'reddit_followers' ? order || 'desc' : 'desc') class='link' + (sortBy === 'reddit_followers' ? '-active' : '-primary') + ' ' + (sortBy === 'reddit_followers' ? order || 'asc' : 'asc')) Subreddit followers&nbsp;&nbsp;
						//- th(scope='col' colspan="2") 
				tbody
				each coin, index in coins
					tr
						th(scope='row')= index + 1
						- var url = coin.id
						td
							a( href='/' + url )= coin.name 
						td= numeral(coin.market.coinMarketCap.marketVolumeUSD).format('0,0[.]00 $')
						td= numeral(coin.social.index).format('0,0.00000')
							br
							|(
							span(class='' + (coin.social.indexDelta < 0 ? 'param-down' : 'param-up'))= numeral(coin.social.indexDelta).format('+0.00000 %')
							|)
						td= numeral(coin.social.twitter.followersCount).format('0,0')
							br
							|(
							span(class='' + (coin.social.twitter.followersCountDelta < 0 ? 'param-down' : 'param-up'))= numeral(coin.social.twitter.followersCountDelta).format('+0,0.00000 %')
							|)
						td= numeral(coin.social.twitter.statusesCount).format('0,0')
							br
							|(
							span(class='' + (coin.social.twitter.statusesCountDelta < 0 ? 'param-down' : 'param-up'))= numeral(coin.social.twitter.statusesCountDelta).format('+0,0.00000 %')
							|)
						td= numeral(coin.social.reddit.followersCount).format('0,0')
							br
							|(
							span(class='' + (coin.social.reddit.followersCountDelta < 0 ? 'param-down' : 'param-up'))= numeral(coin.social.reddit.followersCountDelta).format('+0,0.00000 %')
							|)
					//- td= coin.development
					//- td= coin.network
			